# Railway config for desktop app when this folder is the deploy root.
# For monorepo deploys, Railway uses the root railway.toml (repo root) instead;
# that file runs the same build/start via pnpm run desktop:build / desktop:start.
#
# If you set Root Directory to "apps/desktop", this file is used. You must then
# run install + build from repo root (e.g. buildCommand: cd ../.. && pnpm install && pnpm run desktop:build).
# Recommended: leave Root Directory empty and use the root railway.toml.

[build]
builder = "RAILPACK"
buildCommand = "cd ../.. && pnpm install && pnpm run desktop:build"

[deploy]
startCommand = "pnpm start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
