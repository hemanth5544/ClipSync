# Railway Configuration for Go Backend
# IMPORTANT: Set root directory to "apps/backend" in Railway service settings
# This prevents Railway from detecting the root package.json and running "pnpm run build"

[build]
builder = "NIXPACKS"
buildCommand = "go build -o bin/server ./cmd/server"
watchPatterns = ["**/*.go"]
ignorePatterns = ["node_modules/**", "**/package.json", "**/package-lock.json", "**/pnpm-lock.yaml"]

[deploy]
startCommand = "./bin/server"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
